//almost bottom, search initCDNMoviesEvents
// const url = "#hWzM2MHBdaHR0cHM6Ly9mZW1lcmV0ZXMub3JnLzYyNmFiNDA1MGUzYjhiOGY3YTJhYjdmMTNmMDEwMTI2OjIwMjUwMjEwMDY6ZVVGUVRVTnBWRmxLY0RkTGRYZFJka1pMY1dKM1lWWmlVM1ZKYzNOUGVFOVplVlkwYVZsMVYweHZlSE5HTkhKbFVtVXpTREF5YTJKR0x6bFFjeXR2U0V0WmNYZ3pSRWxXV0V4RWJVOXdNSEY0TkVoUk5XOW5aVzFtTkVNeGIzTXZNVVF3TURGa2NsaFRaWGM5LzcvNC8yLzgvMi8zL3E2NmJvLm1wNDpobHM6bWFuaWZlc3QubTN1OCBvciBodHRwczovL3N0cmVhbS52b2lkYm9vc3QuY2MvNjI2YWI0MDUwZTNiOGI4ZjdhMmFiN2YxM2YwMTAxMjY6MjAyNTAyMTAwNjplVUZRVFVOcFZGbEtjRGRMZFhkUmRrWkxjV0ozWVZaaVUzVkpjM05QZUU5WmVWWTBhVmwxVjB4dmVITkdOSEpsVW1VelNEQXlhMkpHTHpsUWN5dHZTRXRaY1hnelJFbFdXRXhFYlU5d01IRjRORWhSTlc5blpXMW1ORU14YjNNdk1VUXdNREZrY2xoVFpYYzkvNy80LzIvOC8yLzMvcTY2Ym8ubXA0OmhsczptYW5pZmVzdC5tM3U4IG9yIGh0dHBzOi8vZmVtZXJldGVzLm9yZy82MjZhYjQwNTBlM2I4YjhmN2EyYWI3ZjEzZjAxMDEyNjoyMDI1MDIxMDA2OmVVRlFUVU5wVkZsS2NEZExkWGRSZGtaTGNXSjNZVlppVTNWSmMzTlBlRTlaZVZZMGFWbDFWMHh2ZUhOR05ISmxVbVV6U0RBeWEySkdMemxRY3l0dlNFdFpjWGd6UkVsV1dFeEViVTl3TUhGNE5FaFJOVzluWlcxbU5FTXhiM012TVVRd01ERmtjbGhUWlhjOS83LzQvMi84LzIvMy9xNjZiby5tcDQgb3IgaHR0cHM6Ly9zdHJlYW0udm9pZGJvb3N0LmNjLzYyNmFiNDA1MGUzYjhiOGY3YTJhYjdmMTNmMDEwMTI2OjIwMjUwMjEwMDY6ZVVGUVRVTnBWRmxLY0RkTGRYZFJka1pMY1dKM1lWWmlVM1ZKYzNOUGVFOVplVlkwYVZsMVYweHZlSE5HTkhKbFVtVXpTREF5YTJKR0x6bFFjeXR2U0V0WmNYZ3pSRWxXV0V4RWJVOXdNSEY0TkVoUk5XOW5aVzFtTkVNeGIzTXZNVVF3TURGa2NsaFRaWGM5LzcvNC8yLzgvMi8zL3E2NmJvLm1wNCxbNDgwcF1odHRwczovL//_//JCQhIUAkJEBeIUAjJCRA2ZlbWVyZXRlcy5vcmcvOWNkOGUzNWUxMjM1YzM4YzM//_//QEBAQEAhIyMhXl5e2MGNkMzk0ZmMyODY4MGQ6MjAyNTAyMTAwNjplVUZRVFVOcFZGbEtjRGRMZFhkUmRrWkxjV0ozWVZaaVUzVkpjM05QZUU5WmVWWTBhVmwxVjB4dmVITkdOSEpsVW1VelNEQXlhMkpHTHpsUWN5dHZTRXRaY1hnelJFbFdXRXhFYlU5d01IRjRORWhSTlc5blpXMW1ORU14YjNNdk1VUXdNREZrY2xoVFpYYzkvNy80LzIvOC8yLzMvc3R0YzQubXA0OmhsczptYW5pZmVzdC5tM3U4IG9yIGh0dHBzOi8vc3RyZWFtLnZvaWRib29zdC5jYy85Y2Q4ZTM1ZTEyMzVjMzhjMzYwY2QzOTRmYzI4NjgwZDoyMDI1MDIxMDA2OmVVRlFUVU5wVkZsS2NEZExkWGRSZGtaTGNXSjNZVlppVTNWSmMzTlBlRTlaZVZZMGFWbDFWMHh2ZUhOR05ISmxVbVV6U0RBeWEySkdMemxRY3l0dlNFdFpjWGd6UkVsV1dFeEViVTl3TUhGNE5FaFJOVzluWlcxbU5FTXhiM012TVVRd01ERmtjbGhUWlhjOS83LzQvMi84LzIvMy9zdHRjNC5tcDQ6aGxzOm1hbmlmZXN0Lm0zdTggb3IgaHR0cHM6Ly9mZW1lcmV0ZXMub3JnLzljZDhlMzVlMTIzNWMzOGMzNjBjZDM5NGZjMjg2ODBkOjIwMjUwMjEwMDY6ZVVGUVRVTnBWRmxLY0RkTGRYZFJka1pMY1dKM1lWWmlVM1ZKYzNOUGVFOVplVlkwYVZsMVYweHZlSE5HTkhKbFVtVXpTREF5YTJKR0x6bFFjeXR2U0V0WmNYZ3//_//Xl5eIUAjIyEhIyM=pSRWxXV0V4RWJVOXdNSEY0TkVoUk5XOW5aVzFtTkVNeGIzTXZNVVF3TURGa2NsaFRaWGM5LzcvNC8yLzgvMi8zL3N0dGM0Lm1wNCBvciBodHRwczovL3N0cmVhbS52b2lkYm9vc3QuY2MvOWNkOGUzNWUxMjM1YzM4YzM2MGNkMzk0ZmMyODY4MGQ6MjAyNTAyMTAwNjplVUZRVFVOcFZGbEtjRGRMZFhkUmRrWkxjV0ozWVZaaVUzVkpjM05QZUU5WmVWWTBhVmwxVjB4dmVITkdOSEpsVW1VelNEQXlhMkpHTHpsUWN5dHZTRXRaY1hnelJFbFdXRXhFYlU5d01IRjRORWhSTlc5blpXMW1ORU14YjNNdk1VUXdNREZrY2xoVFpYYzkvNy80LzIvOC8yLzMvc3R0YzQubXA0LFs3MjBwXWh0dHBzOi8vZmVtZXJldGVzLm9yZy9iZWQ0MmZlNDQyZWUzY2VkZGEzZmVjMjMxYzdlOTdkYzoyMDI1MDIxMDA2OmVVRlFUVU5wVkZsS2NEZExkWGRSZGtaTGNXSjNZVlppVTNWSmMzTlBlRTlaZVZZMGFWbDFWMHh2ZUhOR05ISmxVbVV6U0RBeWEySkdMemxRY3l0dlNFdFpjWGd6UkVsV1dFeEViVTl3TUhGNE5FaFJOVzluWlcxbU5FTXhiM012TVVRd01ERmtjbGhUWlhjOS83LzQvMi84LzIvMy9odno3Yy5tcDQ6aGxzOm1hbmlmZXN0Lm0zdTggb3IgaHR0cHM6Ly9zdHJlYW0udm9pZGJvb3N0LmNjL2JlZDQyZmU0NDJlZTNjZWRkYTNmZWMyMzFjN2U5N2RjOjIwMjUwMjEwMDY6ZVVGUVRVTnBWRmxLY0RkTGRYZFJka1pMY1dKM1lWWmlVM1ZKYzNOUGVFOVplVlkwYVZsMVYweHZlSE5HTkhKbFVtVXpTREF5YTJKR0x6bFFjeXR2U0V0WmNYZ3pSRWxXV0V4RWJVOXdNSEY0TkVoUk5XOW5aVzFtTkVNeGIzTXZNVVF3TURGa2Ns//_//JCQjISFAIyFAIyM=aFRaWGM5LzcvNC8yLzgvMi8zL2h2ejdjLm1wNDpobHM6bWFuaWZlc3QubTN1OCBvciBodHRwczovL2ZlbWVyZXRlcy5vcmcvYmVkNDJmZTQ0MmVlM2NlZGRhM2ZlYzIzMWM3ZTk3ZGM6MjAyNTAyMTAwNjplVUZRVFVOcFZGbEtjRGRMZFhkUmRrWkxjV0ozWVZaaVUzVkpjM05QZUU5WmVWWTBhVmwxVjB4dmVITkdOSEpsVW1VelNEQXlhMkpHTHpsUWN5dHZTRXRaY1hnelJFbFdXRXhFYlU5d01IRjRORWhSTlc5blpXMW1ORU14YjNNdk1VUXdNREZrY2xoVFpYYzkvNy80LzIvOC8yLzMvaHZ6N2MubXA0IG9yIGh0dHBzOi8vc3RyZWFtLnZvaWRib29zdC5jYy9iZWQ0MmZlNDQyZWUzY2VkZGEzZmVjMjMxYzdlOTdkYzoyMDI1MDIxMDA2OmVVRlFUVU5wVkZsS2NEZExkWGRSZGtaTGNXSjNZVlppVTNWSmMzTlBlRTlaZVZZMGFWbDFWMHh2ZUhOR05ISmxVbVV6U0RBeWEySkdMemxRY3l0dlNFdFpjWGd6UkVsV1dFeEViVTl3TUhGNE5FaFJOVzluWlcxbU5FTXhiM012TVVRd01ERmtjbGhUWlhjOS83LzQvMi84LzIvMy9odno3Yy5tcDQsWzEwODBwXWh0dHBzOi8vZmVtZXJldGVzLm9yZy81ZjEwZjFlYjY5ZTBlODczMDVlZTZiMDRjMGM4Mjg1NToyMDI1MDIxMDA2OmVVRlFUVU5wVkZsS2NEZExkWGRSZGtaTGNXSjNZVlppVTNWSmMzTlBlRTlaZVZZMGFWbDFWMHh2ZUhOR05ISmxVbVV6U0RBeWEySkdMemxRY3l0dlNFdFpjWGd6UkVsV1dFeEViVTl3TUhGNE5FaFJOVzluWlcxbU5FTXhiM012TVVRd01ERmtjbGhUWlhjOS83LzQvMi84LzIvMy80aTM2ai5tcDQ6aGxzOm1hbmlmZXN0Lm0zdTggb3IgaHR0cHM6Ly9zdHJlYW0udm9pZGJvb3N0LmNjLzVmMTBmMWViNjllMGU4NzMwNWVlNmIwNGMwYzgyODU1OjIwMjUwMjEwMDY6ZVVGUVRVTnBWRmxLY0RkTGRYZFJka1pMY1dKM1lWWmlVM1ZKYzNOUGVFOVplVlkwYVZsMVYweHZlSE5HTkhKbFVtVXpTREF5YTJKR0x6bFFjeXR2U0V0WmNYZ3pSRWxXV0V4RWJVOXdNSEY0TkVoUk5XOW5aVzFtTkVNeGIzTXZNVVF3TURGa2//_//IyMjI14hISMjIUBANsaFRaWGM5LzcvNC8yLzgvMi8zLzRpMzZqLm1wNDpobHM6bWFuaWZlc3QubTN1OCBvciBodHRwczovL2ZlbWVyZXRlcy5vcmcvNWYxMGYxZWI2OWUwZTg3MzA1ZWU2YjA0YzBjODI4NTU6MjAyNTAyMTAwNjplVUZRVFVOcFZGbEtjRGRMZFhkUmRrWkxjV0ozWVZaaVUzVkpjM05QZUU5WmVWWTBhVmwxVjB4dmVITkdOSEpsVW1VelNEQXlhMkpHTHpsUWN5dHZTRXRaY1hnelJFbFdXRXhFYlU5d01IRjRORWhSTlc5blpXMW1ORU14YjNNdk1VUXdNREZrY2xoVFpYYzkvNy80LzIvOC8yLzMvNGkzNmoubXA0IG9yIGh0dHBzOi8vc3RyZWFtLnZvaWRib29zdC5jYy81ZjEwZjFlYjY5ZTBlODczMDVlZTZiMDRjMGM4Mjg1NToyMDI1MDIxMDA2OmVVRlFUVU5wVkZsS2NEZExkWGRSZGtaTGNXSjNZVlppVTNWSmMzTlBlRTlaZVZZMGFWbDFWMHh2ZUhOR05ISmxVbVV6U0RBeWEySkdMemxRY3l0dlNFdFpjWGd6UkVsV1dFeEViVTl3TUhGNE5FaFJOVzluWlcxbU5FTXhiM012TVVRd01ERmtjbGhUWlhjOS83LzQvMi84LzIvMy80aTM2ai5tcDQ="

// chrome - extension://aamnmboocelpaiagegjicbefiinkcoal/src/js/injection_scripts/loader.js
// (() => {
//   console.log("load loader success");
//   const thisScript = document.currentScript;
//   const args = JSON.parse(thisScript.dataset.args);
//   console.log(args);
//   getVideoURL(args).then((result) => {
//     thisScript.dataset.result = JSON.stringify({ "url": result });
//   });
// })();

const x = {
  action: "get_movie",
  episode_id: "0",
  filename: "The_Bodyguard",
  film_id: "6648",
  qualities: ['360p', '480p', '720p', '1080p', '1080p Ultra'],
  quality: "720p",
  season_id: "0",
  translator_id: "56",
}

async function getVideoURL(dictionary) {
  const response = await sendRequest(
    dictionary.film_id,
    dictionary.translator_id,
    dictionary.season_id,
    dictionary.episode_id,
    dictionary.action)
  let url_dict = {};
  if (!response.success) {
    return false
  }
  clearTrash(response.url).split(",").forEach(function (item) {
    let links_quality = item.match(/\[.*?]/)[0]
    let urls_strings = item.slice(links_quality.length)
    url_dict[links_quality] = urls_strings.split(/\sor\s/).filter(item => /https?:\/\/.*mp4$/.test(item))
  })
  let quality = `[${dictionary.quality}]`;
  if (Object.keys(url_dict).length === 0) {
    return false
  } else if (url_dict[quality]) {
    return url_dict[quality]
  } else {
    let keys = CDNPlayer.api('qualities').map((item) => item.match(/\d*(?:(?:K)|(?:p(?:\sUltra)?))/)[0]);
    let index = keys.indexOf(dictionary.quality)
    while (index > 0 && !url_dict[quality]) {
      index -= 1;
      quality = `[${keys[index]}]`
    }
    return url_dict[quality]
  }
}

function sendRequest(film_id, translator_id, season_id, episode_id, action) {
  return new Promise(resolve => {
    var t = new Date().getTime();

    $.ajax({
      method: "POST",
      url: "/ajax/get_cdn_series/?t=" + t,
      dataType: "json",
      data: {
        "id": film_id,
        "translator_id": translator_id,
        "season": season_id,
        "episode": episode_id,
        "favs": $('#ctrl_favs').val(),
        "action": action
      },
      success: function (data) {
        resolve(data);
      },
      error: function (jqXHR, textStatus, errorThrown) {
        console.log(textStatus, errorThrown);
        resolve(false)
      }
    })
  })
}

function clearTrash(data) {
  const trashList = ["//_//QEBAQEAhIyMhXl5e",
    "//_//Xl5eIUAjIyEhIyM=",
    "//_//JCQhIUAkJEBeIUAjJCRA",
    "//_//IyMjI14hISMjIUBA",
    "//_//JCQjISFAIyFAIyM="];
  while (trashList.filter(subString => data.includes(subString)).length !== 0) {
    data = data.replace(new RegExp(trashList.join("|"), "g"), "");
  }
  data = data.replace("#h", "");
  return atob(data);
}


const url = "#hWzM2MHBdaHR0cHM6Ly9mZW1lcmV0ZXMub3JnLzJhMGMzYTkyZjg0NWRjNzAwZGNlZDRkYzliOGU2NDQyOjIwMjUwMjEwMTI6TkdaWlFWVTJabk15ZFVKVGJpdH\/\/_\/\/Xl5eIUAjIyEhIyM=diRXhJVDFoTUwwOXhhRVJ2VHpab2JtTkpja2htZGtGcU0ycG5OMUZYUlV0VFUwVnNlWGhMT0RWb1oyaGtZVk5qV25kcU1XdGhiWHB5ZEZkemIyOUNVV3RPTkRVMU1USkxSRGMzVkZKSWJISmpXV1EwUW1STlVWUTBXVlU5LzcvMi84LzQvOC9sOXJueS5tcDQ6aGxzOm1hbmlmZXN0Lm0zdTggb3IgaHR0cHM6Ly9zdHJlYW0udm9pZGJvb3N0LmNjLzJhMGMzYTkyZjg0NWRjNzAwZGNlZDRkYzliOGU2NDQyOjIwMjUwMjEwMTI6TkdaWlFWVTJabk15ZFVKVGJpdHdiRXhJVDFoTUwwOXhhRVJ2VHpab2JtTkpja2htZGtGcU0ycG5OMUZYUlV0VFUwVnNlWGhMT0RWb1oyaGtZVk5qV25kcU1XdGhiWHB5ZEZkemIyOUNVV3RPTkRVMU1USkxSRGMzVkZKSWJISmpXV1EwUW1STlVWUTBXVlU5LzcvMi84LzQvOC9sOXJueS5tcDQ6aGxzOm1hbmlmZXN0Lm0zdTggb3IgaHR0cHM6Ly9mZW1lcmV0ZXMub3JnLzJhMGMzYTkyZjg0NWRjNzAwZGNlZDRkYzliOGU2NDQyOjIwMjUwMjEwMTI6TkdaWlFWVTJabk15ZFVKVGJpdHdiRXhJVDFoTUwwOXhhRVJ2VHpab2JtTkpja2htZGtGcU0ycG5OMUZYUlV0VFUwVnNlWGhMT0RWb1oyaGtZVk5qV25kcU1XdGhiWHB5ZEZkemIyOUNVV3RPTkRVMU1USkxSRGMzVkZKSWJISmpXV1EwUW1STlVWUTBXVlU5LzcvMi84LzQvOC9sOXJueS5tcDQgb3IgaHR0cHM6Ly9zdHJlYW0udm9pZGJvb3N0LmNjLzJhMGMzYTkyZjg0NWRjNzAwZGNlZDRkYzliOGU2NDQyOjIwMjUwMjEwMTI6TkdaWlFWVTJabk15ZFVKVGJpdHdiRXhJVDFoTUwwOXhhRVJ2VHpab2JtTkpja2htZGtGcU0ycG5OMUZYUlV0VFUwVnNlWGhMT0RWb1oyaGtZVk5qV25kcU1XdGhiWHB5ZEZkemIyOUNVV3RPTkRVMU1USkxSRGMzVkZKSWJISmpXV1E\/\/_\/\/JCQhIUAkJEBeIUAjJCRAwUW1STlVWUTBXVlU5LzcvMi84LzQvOC9sOXJueS5tcDQsWzQ4MHBdaHR0cHM6Ly9mZW1lcmV0ZXMub3JnLzYyNjBkN2UwNDQwNjYwZjY2ODY2NzE3ODIxMTY1NzRmOjIwMjUwMjEwMTI6TkdaWlFWVTJabk15ZFVKVGJpdHdiRXhJVDFoTUwwOXhhRVJ2VHpab2JtTkpja2htZGtGcU0ycG5OMUZYUlV0VFUwVnNlWGhMT0RWb1oyaGtZVk5qV25kcU1XdGhiWHB5ZEZkemIyOUNVV3RPTkRVMU1USkxSRGMzVkZKSWJISmpXV1EwUW1STlVWUTBXVlU5LzcvMi84LzQvOC82NzMzNS5tcDQ6aGxzOm1hbmlmZXN0Lm0zdTggb3IgaHR0cHM6Ly9zdHJlYW0udm9pZGJvb3N0Lm\/\/_\/\/QEBAQEAhIyMhXl5eNjLzYyNjBkN2UwNDQwNjYwZjY2ODY2NzE3ODIxMTY1NzRmOjIwMjUwMjEwMTI6TkdaWlFWVTJabk15ZFVKVGJpdHdi\/\/_\/\/JCQjISFAIyFAIyM=RXhJVDFoTUwwOXhhRVJ2VHpab2JtTkpja2htZGtGcU0ycG5OMUZYUlV0VFUwVnNlWGhMT0RWb1oyaGtZVk5qV25kcU1XdGhiWHB5ZEZkemIyOUNVV3RPTkRVMU1USkxSRGMzVkZKSWJISmpXV1EwUW1STlVWUTBXVlU5LzcvMi84LzQvOC82NzMzNS5tcDQ6aGxzOm1hbmlmZXN0Lm0zdTggb3IgaHR0cHM6Ly9mZW1lcmV0ZXMub3JnLzYyNjBkN2UwNDQwNjYwZjY2ODY2NzE3ODIxMTY1NzRmOjIwMjUwMjEwMTI6TkdaWlFWVTJabk15ZFVKVGJpdHdiRXhJVDFoTUwwOXhhRVJ2VHpab2JtTkpja2htZGtGcU0ycG5OMUZYUlV0VFUwVnNlWGhMT0RWb1oyaGtZVk5qV25kcU1XdGhiWHB5ZEZkemIyOUNVV3RPTkRVMU1USkxSRGMzVkZKSWJISmpXV1EwUW1STlVWUTBXVlU5LzcvMi84LzQvOC82NzMzNS5tcDQgb3IgaHR0cHM6Ly9zdHJlYW0udm9pZGJvb3N0LmNjLzYyNjBkN2UwNDQwNjYwZjY2ODY2NzE3ODIxMTY1NzRmOjIwMjUwMjEwMTI6TkdaWlFWVTJabk15ZFVKVGJpdHdiRXhJVDFoTUwwOXhhRVJ2VHpab2JtTkpja2htZGtGcU0ycG5OMUZYUlV0VFUwVnNlWGhMT0RWb1oyaGtZVk5qV25kcU1XdGhiWHB5ZEZkemIyOUNVV3RPTkRVMU1USkxSRGMzVkZKSWJISmpXV1EwUW1STlVWUTBXVlU5LzcvMi84LzQvOC82NzMzNS5tcDQsWzcyMHBdaHR0cHM6Ly9mZW1lcmV0ZXMub3JnL2YxM2JjMTg0OWZiNjM0OGM0OGMxMmM2YmYzMjliNGU0OjIwMjUwMjEwMTI6TkdaWlFWVTJabk15ZFVKVGJpdHdiRXhJVDFoTUwwOXhhRVJ2VHpab2JtTkpja2htZGtGcU0ycG5OMUZYUlV0VFUwVnNlWGhMT0RWb1oyaGtZVk5qV25kcU1XdGhiWHB5ZEZkemIyOUNVV3RPTkRVMU1USkxSRGMzVkZKSWJISmpXV1EwUW1STlVWUTBXVlU5LzcvMi84LzQvOC9pbHF3by5tcDQ6aGxzOm1hbmlmZXN0Lm0zdTggb3IgaHR0cHM6Ly9zdHJlYW0udm9pZGJvb3N0LmNjL2YxM2JjMTg0OWZiNjM0OGM0OGMxMmM2YmYzMjliNGU0OjIwMjUwMjEwMTI6TkdaWlFWVTJabk15ZFVKVGJpdHdiRXhJVDFoTUwwOXhhRVJ2VHpab2JtTkpja2htZGtGcU0ycG5OMUZYUlV0VFUwVnNlWGhMT0RWb1oyaGtZVk5qV25kcU1XdGhiWHB5ZEZkemIyOUNVV3RPTkRVMU1USkxSRGMzVkZKSWJISmpXV1EwUW1STlVWUTBXVlU5LzcvMi84LzQvOC9pbHF3by5tcDQ6aGxzOm1hbmlmZXN0Lm0zdTggb3IgaHR0cHM6Ly9mZW1lcmV0ZXMub3JnL2YxM2JjMTg0OWZiNjM0OGM0OGMxMmM2YmYzMjliNGU0OjIwMjUwMjEwMTI6TkdaWlFWVTJabk15ZFVKVGJpdHdiRXhJVDFoTUwwOXhhRVJ2VHpab2JtTkpja2htZGtGcU0ycG5OMUZYUlV0VFUwVnNlWGhMT0RWb1oyaGtZVk5qV25kcU1XdGhiWHB5ZEZkemIyOUNVV3RPTkRVMU1USkxSRGMzVkZKSWJISmpXV1EwUW1STlVWUTBXVlU5LzcvMi84LzQvOC9pbHF3by5tcDQgb3IgaHR0cHM6Ly9zdHJlYW0udm9pZGJvb3N0LmNjL2YxM2JjMTg0OWZiNjM0OGM0OGMxMmM2YmYzMjliNGU0OjIwMjUwMjEwMTI6TkdaWlFWVTJabk15ZFVKVGJpdHdiRXhJVDFoTUwwOXhhRVJ2VHpab2JtTkpja2htZGtGcU0ycG5OMUZYUlV0VFUwVnNlWGhMT0RWb1oyaGtZVk5qV25kcU1XdGhiWHB5ZEZkemIyOUNVV3RPTkRVMU1USkxSRGMzVkZKSWJISmpXV1EwUW1STlVWUTBXVlU5LzcvMi84LzQvOC9pbHF3by5tcDQsWzEwODBwXWh0dHBzOi8vZmVtZXJldGVzLm9yZy8wNjgwYjYwYTdjOTQzNzdiNDhlMDFiOTkyYzAwMjQ2ZjoyMDI1MDIxMDEyOk5HWlpRVlUyWm5NeWRVSlRiaXR3YkV4SVQxaE1MMDl4YUVSdlR6Wm9ibU5KY2tobWRrRnFNMnBuTjFGWFJVdFRVMFZzZVhoTE9EVm9aMmhrWVZOalduZHFNV3RoYlhweWRGZHpiMjlDVVd0T05EVTFNVEpMUkRjM1ZGSkliSEpqV1dRMFFtUk5VVlEwV1ZVOS83LzIvOC80LzgvaDYzYmYubXA0OmhsczptYW5pZmVzdC5tM3U4IG9yIGh0dHBzOi8vc3RyZWFtLnZvaWRib29zdC5jYy8wNjgwYjYwYTdjOTQzNzdiNDhlMDFiOTkyYzAwMjQ2ZjoyMDI1MDIxMDEyOk5HWlpRVlUyWm5NeWRVSlRiaXR3YkV4SVQxaE1MMDl4YUVSdlR6Wm9ibU5KY2tobWRrRnFNMnBuTjFGWFJVdFRVMFZzZVhoTE9EVm9aMmhrWVZOalduZHFNV3RoYlhweWRGZHpiMjlDVVd0T05EVTFNVEpMUkRjM1ZGSkliSEpqV1dRMFFtUk5VVlEwV1ZVOS83LzIvOC80LzgvaDYzYmYubXA0OmhsczptYW5pZmVzdC5tM3U4IG9yIGh0dHBzOi8vZmVtZXJldGVzLm9yZy8wNjgwYjYwYTdjOTQzNzdiNDhlMDFiOTkyYzAwMjQ2ZjoyMDI1MDIxMDEyOk5HWlpRVlUyWm5NeWRVSlRiaXR3YkV4SVQxaE1MMDl4YUVSdlR6Wm9ibU5KY2tobWRrRnFNMnBuTjFGWFJVdFRVMFZzZVhoTE9EVm9aMmhrWVZOalduZHFNV3RoYlhweWRGZHpiMjlDVVd0T05EVTFNVEpMUkRjM1ZGSkliSEpqV1dRMFFtUk5VVlEwV1ZVOS83LzIvOC80LzgvaDYzYmYubXA0IG9yIGh0dHBzOi8vc3RyZWFtLnZvaWRib29zdC5jYy8wNjgwYjYwYTdjOTQzNzdiNDhlMDFiOTkyYzAwMjQ2ZjoyMDI1MDIxMDEyOk5HWlpRVlUyWm5NeWRVSlRiaXR3YkV4SVQxaE1MMDl4YUVSdlR6Wm9ibU5KY2tobWRrRnFNMnBuTjFGWFJVdFRVMFZzZVhoTE9EVm9aMmhrWVZOalduZHFNV3RoYlhweWRGZHpiMjlDVVd0T05EVTFNVEpMUkRjM1ZGSkliSEpqV1dRMFFtUk5VVlEwV1ZVOS83LzIvOC80LzgvaDYzYmYubXA0LFsxMDgwcCBVbHRyYV1odHRw\/\/_\/\/IyMjI14hISMjIUBAczovL2ZlbWVyZXRlcy5vcmcvMDY4MGI2MGE3Yzk0Mzc3YjQ4ZTAxYjk5MmMwMDI0NmY6MjAyNTAyMTAxMjpOR1paUVZVMlpuTXlkVUpUYml0d2JFeElUMWhNTDA5eGFFUnZUelpvYm1OSmNraG1ka0ZxTTJwbk4xRlhSVXRUVTBWc2VYaExPRFZvWjJoa1lWTmpXbmRxTVd0aGJYcHlkRmR6YjI5Q1VXdE9ORFUxTVRKTFJEYzNWRkpJYkhKaldXUTBRbVJOVVZRMFdWVTkvNy8yLzgvNC84L2g2M2JmLm1wNDpobHM6bWFuaWZlc3QubTN1OCBvciBodHRwczovL3N0cmVhbS52b2lkYm9vc3QuY2MvMDY4MGI2MGE3Yzk0Mzc3YjQ4ZTAxYjk5MmMwMDI0NmY6MjAyNTAyMTAxMjpOR1paUVZVMlpuTXlkVUpUYml0d2JFeElUMWhNTDA5eGFFUnZUelpvYm1OSmNraG1ka0ZxTTJwbk4xRlhSVXRUVTBWc2VYaExPRFZvWjJoa1lWTmpXbmRxTVd0aGJYcHlkRmR6YjI5Q1VXdE9ORFUxTVRKTFJEYzNWRkpJYkhKaldXUTBRbVJOVVZRMFdWVTkvNy8yLzgvNC84L2g2M2JmLm1wNDpobHM6bWFuaWZlc3QubTN1OCBvciBodHRwczovL2ZlbWVyZXRlcy5vcmcvMDY4MGI2MGE3Yzk0Mzc3YjQ4ZTAxYjk5MmMwMDI0NmY6MjAyNTAyMTAxMjpOR1paUVZVMlpuTXlkVUpUYml0d2JFeElUMWhNTDA5eGFFUnZUelpvYm1OSmNraG1ka0ZxTTJwbk4xRlhSVXRUVTBWc2VYaExPRFZvWjJoa1lWTmpXbmRxTVd0aGJYcHlkRmR6YjI5Q1VXdE9ORFUxTVRKTFJEYzNWRkpJYkhKaldXUTBRbVJOVVZRMFdWVTkvNy8yLzgvNC84L2g2M2JmLm1wNCBvciBodHRwczovL3N0cmVhbS52b2lkYm9vc3QuY2MvMDY4MGI2MGE3Yzk0Mzc3YjQ4ZTAxYjk5MmMwMDI0NmY6MjAyNTAyMTAxMjpOR1paUVZVMlpuTXlkVUpUYml0d2JFeElUMWhNTDA5eGFFUnZUelpvYm1OSmNraG1ka0ZxTTJwbk4xRlhSVXRUVTBWc2VYaExPRFZvWjJoa1lWTmpXbmRxTVd0aGJYcHlkRmR6YjI5Q1VXdE9ORFUxTVRKTFJEYzNWRkpJYkhKaldXUTBRbVJOVVZRMFdWVTkvNy8yLzgvNC84L2g2M2JmLm1wNA=="

Object.fromEntries(
  clearTrash(url).split(",").map(function (item) {
    let links_quality = item.match(/\[.*?]/)[0]
    let urls_strings = item.slice(links_quality.length).split(/\sor\s/)

    // urls_strings = Object.fromEntries(urls_strings.map(x => [x.slice(7, 20) + "...." + x.slice(-4), x]))
    // return [links_quality, urls_strings]

    urls_strings = urls_strings.filter(item => !/https?:\/\/.*mp4$/.test(item))
    return [links_quality, urls_strings]
  }))
